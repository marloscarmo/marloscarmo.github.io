/*! data-metrics 0.6.3 (2014-02-04) | Marlos Carmo - https://github.com/marloscarmo/data-metrics | Free to use under terms of MIT license */
"use strict";!function(a){function b(){this.init()}b.prototype={init:function(){this.addEventListeners()},addEventListeners:function(){for(var a=document.querySelectorAll("*[data-metrics]"),b=0;b<a.length;b++)this.isForm(a[b])?a[b].onsubmit=this.appendEvent.bind(this):a[b].addEventListener("click",this.appendEvent.bind(this),!1)},isForm:function(a){return"FORM"===a.tagName?!0:!1},appendEvent:function(a){var b=a.currentTarget;if(!b.classList.contains("sending-metrics")){var c=b.getAttribute("data-metrics").split("|");if(void 0===c[1]&&(c[1]=null),void 0===c[2]&&(c[2]=null),this.sendToGA(c[0],c[1],c[2],b),b.classList.add("sending-metrics"),!this.isForm(b)&&!b.getAttribute("target"))return a.preventDefault(),!1}},sendToGA:function(b,c,d,e){var f=this;a("send","event",b,c,d,{hitCallback:function(){f.onHitCallback(e)}})},onHitCallback:function(a){a&&this.onEventIsDispatched(a)},onEventIsDispatched:function(a){a.getAttribute("href")&&!a.getAttribute("target")?window.location.href=a.getAttribute("href"):this.isForm(a)&&a.submit(),a.classList.remove("sending-metrics")}},window.dataMetrics=new b}(window.ga);